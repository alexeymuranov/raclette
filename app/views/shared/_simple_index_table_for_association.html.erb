<%= content_tag :table, :id => table_name, :class => 'records' do %>
  <colgroup class="attributes">
    <% attributes.size.times do %><col /><% end %>
  </colgroup>
  <thead>
    <tr>
      <% column_types_o_hash.each do |attr, col_type| %>
        <%- if col_type == :boolean -%>
          <th class="boolean">
            <%= sortable table_name, attr, model_class.human_attribute_name(attr) %>
          </th>
        <%- else -%>
          <th>
            <%= sortable table_name, attr, model_class.human_attribute_name(attr) %>
          </th>
        <%- end -%>
      <% end %>
    </tr>
  </thead>

  <tbody>
    <%= render :partial => 'shared/model_in_index_for_association',
               :collection => models,
               :as => :model,
               :locals => { :attributes => attributes,
                            :column_types_o_hash => column_types_o_hash } %>
  </tbody>
<% end %>
