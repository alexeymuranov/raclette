%h2= t('register.new_membership_purchase.title')
= form_for @membership_purchase, :as  => :membership_purchase,
                                 :url => 'create_membership_purchase' do |f|

  = render 'shared/error_messages/validation', :target => @membership_purchase

  %dl.form_fields
    - saved_param_names = [:participant_entry_type, :event_title, :date]
    - saved_param_names << :person_id if @member
    - saved_param_names << :guest if @guest
    = hidden_field_tags_from_hash params.slice(saved_param_names)

    = f.select :membership_type,
               options_from_collection_for_select(@membership_types,
                                                  :id, :unique_title,
                                                  :selected => @membership_type.id )
    = select_tag :activity_period,
                options_from_collection_for_select(@activity_periods,
                                                   :id, :unique_title,
                                                   :selected => @activity_period.id )
  .actions
    = f.submit t('buttons.continue')
%footer
  = link_to t('register.choose_person.title'), :action => :choose_person
